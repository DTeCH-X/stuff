// ==UserScript==
// @name          YouTube Disable-DASH Auto HD
// @namespace     YTD-DAHD
// @description   Buffers the video without autoplaying and puts it in HD if the option is on. For Firefox, Opera, & Chrome
// @icon          https://raw.github.com/joesimmons/YouTube---Auto-Buffer---Auto-HD/master/media/logo-64x64.png
// @include       http://*.youtube.com/*
// @include       http://youtube.com/*
// @include       https://*.youtube.com/*
// @include       https://youtube.com/*
// @run-at        document-start
// @copyright     JoeSimmons
// @author        DTeCH, JoeSimmons
// @version       2.2.4
// @license       GPL version 3 or any later version; http://www.gnu.org/copyleft/gpl.html
// @require       https://github.com/joesimmons/jsl/raw/master/versions/jsl-1.3.1.js
// @require       https://github.com/joesimmons/YouTube_-_Button_Container_require/raw/master/versions/YouTube_-_Button_Container_1.0.2.user.js
// @require       https://greasyfork.org/scripts/1884-gm-config/code/GM_config.js?version=4836
// @updateURL     https://openuserjs.org/src/libs/DTeCH/AGSL.meta.js
// @downloadURL   https://openuserjs.org/install/DTeCH/
// @grant         GM_getValue
// @grant         GM_setValue
// @grant         GM_registerMenuCommand
// ==/UserScript==

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(4(O){v.7M("1f").7J.7o.73=4(w){l""};S 3C=["","",""],1N=3z.3x,5O="3t-5I-1A",3j=/^59?:\\/\\/([^\\.]+\\.)?56\\.54\\//,3c=/[?&]4J=/i,2v=/^\\4s\\s*/,1j="4o - U-2p & U-1r",W=(1N.R(/[&#?]t=([4n-9]+)/)||3C)[1],36=["4e","4d","4c","4b","4a","48","47","46","45","44","43","42","41","3Z","3Y","3V","3O","7p","7l","7g","74","6Y","6X","6V","6U","6S","6R"],1e,1Y,6K,p,6I;4 1W(a){l 6g(a,10)}4 1b(D){S Y="68",2o=v.1d(Y),2U=/[\\r\\n]/g,j=h D.j==="2T"&&D.j.5L>3?D.j:"29 5K 5p 5l.";D.y=D.y.1m(2U,"<5i />\\n");4 2O(2M){2M.4Z();v.1d(Y).N.2L="13";2(h D.2n==="4"){D.2n()}}2(2o==4V){8.4L(""+"@4u 2I { "+"50% { H: #3U; } "+"}\\n\\n"+"#"+Y+" .1b-1A { "+"3T: 2I 1s 5c 52 1E; "+"}"+"");v.26.27(8.14("11",{1H:Y,N:"1I: 2C; x: 0; Z: 0; 1l: P%; 1O: P%; z-2A: 7c; 1g-H: 2z(0, 0, 0, 0.6);"},[8.14("11",{1H:Y+"5g",N:"1I: 2y; x: 25%; Z: 25%; 1l: 50%; 1O: 50%; 18-x: 2x; 1g-H: #4m; 2s: 4j 5d #5N;"},[8.14("11",{N:"u: 0 2t; 18-17: 3a; H: #7u; k-1c: 4N; k-1S: 1R, 1Q, \\"2j 2i\\"; k-2h: 1E; y-2B: 1J 1J 4Y #51; y-23: 22;",\'5e\':"1b-1A",5f:j}),8.14("11",{2D:D.y,N:"y-23: 22; u: 0 2t; 18-x: 5D; 2s-x: 2E 2F #6f; H: #6i; k-1c: 2G; k-1S: 1R, 1Q, \\"2j 2i\\"; k-2h: 1E; y-2B: 0 0 2H #3N;"}),8.14("11",{N:"1I: 2y; 17: 1D; Z: 0; 1l: P%; y-23: 22;"},[8.14("3Q",{1H:Y+"3R",w:"1Z",G:"4f 29",4g:2O,N:"u: 0 2t; 18: 1J 1D; k-1c: 2G; k-1S: 1R, 1Q, \\"2j 2i\\"; k-2h: 1E;"})])])]))}1v{2o.2D+=D.y}}4 2J(G){4t(h G){1w"2T":1w"4C":1w"4K":1w"O":l C;1w"2K":l!G;q:}l F}4 1p(1a,2N){S i,G,2f;2P(i=0;G=2N[i];i+=1){2f=2Q 2R("[?&]?"+G[0]+"=[^&]*");1a=1a.1m(2f,"")+"&"+G[0]+"="+G[1];1a=1a.1m(/^&+|&+$/g,"")}l 1a}4 1n(E){2(E){2(h 2b==="4"&&h 2b.1n==="4"){l 2b.1n(E)}1v 2(E.2S){l E.2S}}l E}4 2a(){v.j=v.j.1m(2v,"")}4 24(){S 21=p.v;l 21.1d("1h-7")||21.1d("1U")}4 2V(){S V=c.I("V")===C,28=v.1d("V-X");2r("U-2p 16",4(){c.1k()},"1M-J");2(V&&28){28.27(v.1d("1M-J"))}}4 2k(){1e=F;p=h 2W!=="O"?2W:1n(T);2(p.1x&&p.1x.19){p.1x.19[\'2X-7z\']=0;p.1x.19[\'2X-7K-3L-3M\']=4(2Y){3z.3x=2Y}}p.2d=4 2d(7){2(h 7==="2K"&&1e===F){T.3P("2Z","*")}};8.31({32:"#1h-7, #1U",3S:4(E){E=1n(E[0]);l h E.33==="4"},34:4(){2(1e===F){X()}}})}4 X(){S 7=24(),2c=7.3W,3X=F,K=0,M,1q,1X,o,2m,1K,1t,1F,f;1e=C;2c.49(7);f={Q:c.I("Q"),1z:c.I("1z")===C,1y:c.I("1y")===C,1B:c.I("1B")===C,1C:c.I("35"),1u:c.I("1u"),12:c.I("12")};1K=7.4h(C);o=7.4i("37");2m=!!v.4k("1f.4l-X-1f");1t=!!1N.R(3c)&&c.I("38")===C;2(p.1G&&p.1G.19&&p.1G.19.M){M=p.1G.19.M}2(f.12!=1L){7.4p(f.12)}2(2m){2(7.4q()!==f.1C){7.4r(f.1C)}2(!1t){2(f.Q==="1T"){7.39()}1v 2(f.Q==="13"){7.33()}}}1v{2(M){2P(1q 1V M){1F=M[1q];2(M.4v(1q)&&2J(1F)){o=1p(o,[[1q,4w(1F)]])}}}2(f.1B){o=o.1m(2Q 2R("(&4x;|[&?])?("+36.4y("|")+")=[^&]*","g"),"")}2(f.1z){o=1p(o,[["4z",""],["4A","0"]])}o=1p(o,[["4B",f.1C],["3b",f.Q!=="13"||1t?"1":"0"],["4D",f.1y?"3":"1"],["1u",f.1u],["4E","1"],["4F","2d"],["4G","1"],["4H","1"],["4I","0"]]);2(W.R(/\\d+m/)){K+=1W(W.R(/(\\d+)m/)[1])*60}2(W.R(/\\d+s/)){K+=1W(W.R(/(\\d+)s/)[1])}2(W.R(/^\\d+$/)){K+=1W(W)}2(K<=3){4M{K=7.3d()}4O(e){}2(K<=3){K=0}}o=1p(o,[["4P",K]]);1K.4Q("37",o);2c.27(1K);2(f.Q==="1T"&&1t===F){1X=8.4R(4(){S 7=24();2(7&&h 7.4S==="4"){8.4T(1X);7.39();2(7.3d()<=3){7.4U(0)}T.3e(2a,1L)}},P)}1v 2(f.Q==="13"){T.3e(2a,4W)}}2(c.4X("3f-1M-3g-3h","3i")==="3i"){1b({y:"53 15 \\""+1j+"\\".\\n\\n\\n\\n"+"55 2e 57 J 1Z 58 B 1f.\\n\\n\\n\\n"+"5a J 5b 2u 3K 1k 3k 3l 3m 5h 3n.",j:"\\""+1j+"\\" 29",2n:4(){c.1k()}});c.5j("3f-1M-3g-3h","5k")}}2(T!==T.x||!1N.R(3j)){l}2(h 8==="O"||h c==="O"||h 2r==="O"){1Y=h 8==="O"?"8":h c==="O"?"c":h 2r?"3o 5m":"5n";l 5o(""+"A @3p 2e 5q ("+1Y+").\\n\\n"+"5r 3l\'5s 5t 5u B 5v 5w-1V, 5x @3p 5y\'t 5z.\\n\\n"+"5A 5B B 5C\'s X 3q 15 5E 5F 5G & 5H-2l 15 5J."+"")}2(h 3r==="4"){3r("\\""+1j+"\\" 16",c.1k)}c.2k("\\""+1j+"\\" 16",{Q:{3s:["5M 16"],L:"3u 3v",w:"1P",J:{1T:"U 2p (5P U 5Q)",5R:"U 5S",13:"5T 5U 5V"},\'q\':"1T"},35:{L:"U 1r",w:"1P",J:{\'q\':"5W (q)",5X:"5Y",5Z:"61",62:"63",64:"65",66:"67 (1r)",3w:"69 (1r)",6a:"6b (1r)",6c:"6d (6e)"},\'q\':"3w"},1z:{L:"2q 3y 6h",w:"1i",\'q\':C,j:"\\"3y\\" 6j B 1f 1V 6k/6l; 6m 6n -- 6o: 6p 6q 6r 3k 6s"},1B:{L:"2q 6t",w:"1i",\'q\':C,j:"6u 6v 6w. 6x 2e 6y, 6z. 6A 6B 6C"},1y:{L:"2q 6D",w:"1i",\'q\':F},1u:{3s:["6E 16"],L:"6F 6G 6H",w:"1P",J:{3A:"6J 3B",6L:"6M 3B"},\'q\':"3A"},12:{L:"6N 12 15: ",w:"1P",J:{\'1L\':"6O\'t 6P",\'0\':"6Q",\'5\':"5%",\'10\':"10%",\'20\':"20%",\'25\':"25% (6T)",\'30\':"30%",\'40\':"40%",\'50\':"50% (6W)",\'60\':"60%",\'70\':"70%",\'75\':"75% (6Z 71",\'80\':"80%",\'3D\':"3D%",\'P\':"P% (76)"},j:"77 15 78 B 12 15",\'q\':"1L"},38:{L:"79 2l 7a (7b)",w:"1i",\'q\':F,j:"3E 2u 7d 3b 2l 7e, 7f 3F B \\"3u 3v\\" 7h"},V:{L:"16 3o 7i 7j",w:"1i",\'q\':F,j:"3E 2u 7k B J 1Z 3G 7m B 17 3F B 3q 1V B V"}},"26 { 1g-H: #7n !b; H: #3H !b; k-1S: 1R, 1Q, 7q-7r !b; }#7s { k-1c: 7t !b; }.3I { u-Z: 20% !b; u-x: 1D !b; }#1A { u-17: 3a !b; u-x: 1D !b; }.7v { u-Z: 20% !b; }.3I * { k-1c: 7w !b; }.7x { 2s-17: 2E 2F #7y !b; u-x: 3J !b; }.7A { 1g-H: #7B !b; H: #3H !b; u-Z: 20% !b; u-x: 2H !b; 18: 1J 7C !b; y-7D: 13 !b; }.7E { u-17: 3J !b; }.7F { k-1c: 7G !b; }#7H { 18-7I: 2x; }",{3m:4(){8("#1h-7, #1U").1o("2w","7L");8("#2g").7N()},1k:4(){8("#1h-7, #1U").1o("2w","7O");8("#2g").3G("7P");8("#c").1o("1O","80%").1o("1l","80%").1o("7Q","7R")}});8.7S("7T",4(){8(v.26).7U("11",{1H:"2g",N:"2L: 13; 1I: 2C; x: 0; Z: 0; 1l: P%; 1O: P%; z-2A: 7V; 1g: 2z(0, 0, 0, 0.72);"});2k()});T.7W("3n",4(1b){2(1b.7X==="2Z"){X()}},F);8.31({32:"#3t-7Y, #7Z-81 11.1h-82-83-84, #V-X",34:2V})})();',62,501,'||if||function|||player|JSL|||important|GM_config|||userOpts||typeof||title|font|return|||fv|uw|default||||margin|document|type|top|text|||the|true|infoObject|elem|false|value|color|get|options|time|label|args|style|undefined|100|activationMode|match|var|window|Auto|footer|tTime|main|box_id_name|left||div|volume|none|create|to|Options|bottom|padding|config|str|msg|size|getElementById|hasMainBeenRun|video|background|c4|checkbox|script_name|open|width|replace|unwrap|css|setPref|arg|HD||playIfPlaylist|theme|else|case|_spf_state|hideAnnotations|disableDash|header|hideAds|quality|20px|normal|val|ytplayer|id|position|2px|playerClone|1000|autobuffer|URL|height|select|Verdana|Arial|family|buffer|movie_player|in|toNum|buffer_intv|missing_require|button||doc|center|align|getPlayer||body|appendChild|footerHolder|Message|fixPlaySymbol|XPCNativeWrapper|parent|onYouTubePlayerReady|is|rQuery|lights_out|weight|Pro|Myriad|init|on|isHTML5|onclose|box|Buffer|Disable|addButtonToContainer|border|auto|will|rPlaySymbol|visibility|50px|absolute|rgba|index|shadow|fixed|innerHTML|1px|solid|11pt|8px|blink|isPrimitiveType|object|display|event|values|msg_close|for|new|RegExp|wrappedJSObject|string|rLinebreaks|addButton|unsafeWindow|navigate|targetUrl|YTAB__ready||waitFor|selector|stopVideo|done|autoHD|ads|flashvars|autoplayplaylists|pauseVideo|40px|autoplay|rList|getCurrentTime|setTimeout|yt|autohd|first|yes|rYoutubeUrl|when|you|close|message|Button|require|page|GM_registerMenuCommand|section|watch7|Activation|Mode|hd1080|href|DASH|location|dark|Theme|aBlank|90|This|of|show|434343|config_var|14px|automatically|received|callback|AEAEAE|ad_preroll|postMessage|input|_close|verifier|animation|B95C00|ad_logging_flag|parentNode|alreadyBuffered|ad_host_tier|ad_host||ad_flags|ad_eurl|ad_channel_code_overlay|ad_channel_code_instream|ad_device|advideo|afv_inslate_ad_tag|cafe_experiment_id|removeChild|baseUrl|allowed_ads|adsense_video_doc_id|ad3_module|supported_without_ads|Close|onclick|cloneNode|getAttribute|3px|querySelector|html5|E9E9E9|sm0|YouTube|setVolume|getPlaybackQuality|setPlaybackQuality|u25B6|switch|keyframes|hasOwnProperty|encodeURIComponent|amp|join|dashmpd|dash|vq|number|iv_load_policy|enablejsapi|jsapicallback|fs|modestbranding|disablekb|list|boolean|addStyle|try|21pt|catch|start|setAttribute|setInterval|getPlayerState|clearInterval|seekTo|null|1500|getValue|4px|preventDefault||C7C7C7|infinite|Welcome|com|There|youtube|an|below|https|The|screen|linear|double|class|textContent|_box|this|br|setValue|no|JoeSimmons|Container|unknown|alert|by|missing|Either|re|not|using|correct|plug|or|isn|working|Please|review|script|39px|see|which|browser|add|user|use|Box|length|Main|006195|navID|aka|Pause|play|Play|Stop|Loading|Immediately|Automatic|tiny|144p|small||240p|medium|360p|large|480p|hd720|720p|script_msg|1080p|hd1440|1440p|highres|Original|highest|B0B0B0|parseInt|Playback|000000|loads|blocks|pieces|disrupts|autobuffering|Note|Qualities|are|limited|disabled|Ads|Should|disable|advertisements|AdBlock|better|though|Get|that|instead|Annotations|Other|Player|Color|Scheme|wait_intv|Dark|nav|light|Light|Set|Don|Change|Off|prefetch_ad_live_stream|afv_video_min_cpm|quarter|afv_ad_tag_restricted_to_instream|afv_instream_max|half|afv_ad_tag|afv|three||quarters||canPlayType|aftv||full|What|set|Autoplay|Playlists|override|999999|enable|playlists|regardless|ad_video_pub_id|option|In|Footer|make|ad_tag|at|DDDDDD|prototype|ad_slots|sans|serif|config_header|16pt|F07800|indent40|10pt|section_header_holder|BBBBBB|limit|section_header|BEDBFF|200px|decoration|section_kids|saveclose_buttons|14pt|buttons_holder|right|constructor|part|visible|createElement|hide|hidden|block|zIndex|999999999999|runAt|interactive|append|999999999998|addEventListener|data|headline|gh||overviewtab|spotlight|module|component'.split('|'),0,{}));
